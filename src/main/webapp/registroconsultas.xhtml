<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui" xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head></h:head>
    <h:body>
        <h1>Registro de Citas</h1>
        <h:form id ="tabla">
             <p:dataTable  id="tablaOrdenes" var="orden" value="#{RegistroConsultaBean.consultas}" 
                           selectionMode="single" selection="#{RegistroConsultaBean.consulta}" rowKey="#{onsulta.getId()}">
                 <p:column headerText="Fecha Consulta">
                    <h:outputText value ="#{(consulta.getFechayhora())}"/>
                </p:column>       
                <p:column headerText="Resumen">
                    <h:outputText value ="#{(consulta.getResumen())}"/>
                </p:column>
             </p:dataTable>  
            <h3>Agregar nueva cita</h3>
            <h3></h3>
            <h:outputLabel for="Fecha" value="Fecha y Hora:    "/>
            <p:inputText  id="fecha" value="#{RegistroConsultaBean.fechayHora}"/>
            <h:outputLabel value="    Resumen:"/>
            <p:inputText id="resumen" value="#{RegistroConsultaBean.resumen}" />
            <h:outputLabel value="    Costo:"/>
            <p:inputText id="costo" value="#{RegistroConsultaBean.costo}" />
            
            <h3></h3>
            <h3></h3>
            <p:commandButton value="Agregar Orden" id="ajax"  actionListener="#{RegistroConsultaBean.crearOrden}" update="tabla" />
        </h:form>                                
    </h:body>

</html>
